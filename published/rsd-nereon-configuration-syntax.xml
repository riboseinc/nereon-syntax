<?xml version="1.0" encoding="UTF-8"?>
<rsd-standard xmlns="https://open.ribose.com/standards/rsd">
<bibdata type="standard">
  <title language="en" format="plain">Configuration management — Nereon configuration model — Object configuration and schema syntax</title>
  <docidentifier>XXXXX</docidentifier>
  <contributor>
    <role type="author"/>
    <organization>
      <name>Ribose</name>
    </organization>
  </contributor>
  <contributor>
    <role type="publisher"/>
    <organization>
      <name>Ribose</name>
    </organization>
  </contributor>
  <language>en</language>
  <script>Latn</script>
  <status format="plain">draft-standard</status>
  <copyright>
    <from>2018</from>
    <owner>
      <organization>
        <name>Ribose</name>
      </organization>
    </owner>
  </copyright>
  <editorialgroup>
    <committee/>
  </editorialgroup>
</bibdata><version>
  <edition>1</edition>
  <revision-date>2018-10-08</revision-date>
  
</version>
<preface><foreword obligation="informative"><title>Foreword</title><p id="_a9f61505-0907-49e1-8366-55ef9df86fd6">Ribose is the asymmetric security company.</p>
<p id="_27d7ff9b-892e-40c9-9528-87bc62097068">Ribose Group Inc. ("Ribose") is global developer of <em>asymmetric security</em> technologies across user-centric systems and applications.</p>
<p id="_1c69546e-70b1-4d96-9a82-ccc3291c9534">Ribose works closely with international organizations such as ISO, CalConnect and the Cloud Security Alliance.</p>
<p id="_ab55817e-6067-4974-9fff-2bffd0533d85">The procedures used to develop this document and those intended for its further maintenance are described in the Ribose Standardization Directives.</p>
<p id="_cd319c92-74d2-43a8-995c-af671e8f6a47">In particular the different approval criteria needed for the different types of Ribose documents should be noted. This document was drafted in accordance with the
editorial rules of the Ribose Standardization Directives.</p>
<p id="_a5b75f25-602c-4903-a81b-5020c5810196">Attention is drawn to the possibility that some of the elements of this
document may be the subject of patent rights. Ribose shall not be held responsible
for identifying any or all such patent rights. Details of any patent rights
identified during the development of the document will be in the Introduction.</p>
<p id="_8e2b0631-4839-4e9a-81c6-c180caedc7c7">Any trade name used in this document is information given for the convenience
of users and does not constitute an endorsement.</p>
<p id="_128dcca9-f0ae-4bd5-b6f1-d8a5f3a92863">This document was prepared by the Ribose Committee <em>Configuration management</em>.</p></foreword><introduction id="introduction" obligation="informative"><title>Introduction</title><p id="_e71df6e7-0f19-4759-9634-a429135451aa">The Nereon project aims to unify and glue together cloud
configuration management through the Nereon data models.</p>
<p id="_e0be39a4-4ce8-4ea4-a37d-4e619e689668">The Nereon Object Configuration syntax (NOC) and Nereon Object Configuration Schema syntax (NOS)
are methods used to express configuration settings in
Nereon data models, and can also be used as interchangeable
files.</p>
<p id="_ac4c4f19-473d-4e6f-8e5b-987ac5f5e3c0">Nereon models: <link target="https://github.com/riboseinc/nereon-models"/></p>
<p id="_f3452fc1-3de8-429e-9fe8-64f9a22a0c31">Nereon is a play on Nereus, the shapeshifting sea god of the Greeks, the eldest son of Pontus and Gaia. "Nereon" literally means "place of Nereus", representing the shape-shifting nature of configuration.</p></introduction></preface><sections>

<clause id="scope" obligation="normative"><title>Scope</title><p id="_44421890-957c-41c7-95a2-e6d01dc6117c">This document defines the Nereon Object Configuration Syntax (NOC) and
Nereon Object Configuration Schema Syntax (NOS).</p>
<p id="_a4adda0d-eb38-4f06-b1d2-92a1fb2b7860">(TODO.)</p></clause>

<clause id="terms" obligation="normative"><title>Terms and definitions</title><terms id="_terms_and_definitions" obligation="normative"><title>Terms and definitions</title><term id="_user">
  <preferred>user</preferred>
  <definition><p id="_0d7aebba-92cc-4cc0-9321-2ba5d7081246">person that utilizes a service</p></definition>
</term>
<term id="_access_control">
  <preferred>access control</preferred>
  <definition><p id="_27604c56-dcc7-484a-ad41-2588f27fe26d">TODO.</p></definition>
</term>
<term id="_author">
  <preferred>author</preferred>
  <definition><p id="_05e40aff-1a88-4336-a328-84f34dff6daf">TODO.</p></definition>
</term>
<term id="_role">
  <preferred>role</preferred>
  <definition><p id="_e6f0eb7d-69fb-4b58-8563-ee92596120c8">TODO.</p></definition>
</term>
<term id="_classification">
  <preferred>classification</preferred>
  <definition><p id="_08a9481d-274b-4700-ba54-8e87c637e552">TODO.</p></definition>
</term>
<term id="_classification_label">
  <preferred>classification label</preferred>
  <definition><p id="_8d93b8c1-3531-4e48-a4df-a956f41350cb">TODO.</p></definition>
</term>
<term id="_content_addressable_storage">
  <preferred>content addressable storage</preferred>
  <definition><p id="_22e88c42-082d-498d-b1b4-9cc804538a3a">TODO.</p></definition>
</term>
<term id="_forward_secrecy"><preferred>forward secrecy</preferred><definition><p id="_5c18efc1-7d7f-4f1c-a187-1f6a4df4a472">method such that user of revoked access is unable to access data
created after access revocation</p></definition>
<termnote id="_a134a34c-fff8-40c3-a871-99c4e9483d4c">
  <p id="_8fc9889e-1e33-4392-b371-567254acb979">Refer to <xref target="RFC7525">section 6.3</xref></p>
</termnote></term>
<term id="_public_key_infrastructure"><preferred>public key infrastructure</preferred>
  <admitted>PKI</admitted>

<definition><p id="_fb3b2544-8703-4fff-827e-03334cd29240">TODO.</p></definition></term>
<term id="_blockcipher">
  <preferred>blockcipher</preferred>
  <definition><p id="_258eb134-d19b-4edb-be7c-8662f240cbe6">encryption algorithm that encrypts a plaintext into an equivalent
sized ciphertext, using an identical key for encryption and
decryption</p></definition>
</term></terms>
<definitions id="_symbols">
  <dl id="_4787bffc-680f-4004-80b4-3e47176eb1f4">
  <dt>
    <stem type="AsciiMath">E(K, m)</stem>
  </dt>
  <dd>
    <p id="_27245aa8-8acb-47e9-81dd-bb8ddf5e1d1e">Encryption of the message <stem type="AsciiMath">m</stem> using a key of an asymmetric keypair <stem type="AsciiMath">K</stem></p>
  </dd>
  <dt>
    <stem type="AsciiMath">D(K, m)</stem>
  </dt>
  <dd>
    <p id="_6780553c-d739-4513-b550-923a7e388765">Decryption of the message <stem type="AsciiMath">m</stem> using a key of an asymmetric keypair <stem type="AsciiMath">K</stem></p>
  </dd>
  <dt>
    <stem type="AsciiMath">BCE(K, m)</stem>
  </dt>
  <dd>
    <p id="_e72dec81-b972-42ec-b908-4380b52c8bdd">Symmetric encryption, through the blockcipher <stem type="AsciiMath">BC</stem>, of the message
<stem type="AsciiMath">m</stem> using the key <stem type="AsciiMath">K</stem></p>
  </dd>
  <dt>
    <stem type="AsciiMath">BCD(K, m)</stem>
  </dt>
  <dd>
    <p id="_991119b2-e651-49d9-9886-efd15434d231">Symmetric decryption, through the blockcipher <stem type="AsciiMath">BC</stem>, of the message
<stem type="AsciiMath">m</stem> using the key <stem type="AsciiMath">K</stem></p>
  </dd>
</dl>
</definitions></clause>
<clause id="syntax" obligation="normative"><title>Nereon Configuration and Schema Syntax</title><p id="_156a52ea-ade3-41fa-92dd-99221568d161">Nereon configurations (NOC) and schemas (NOS) are described using
Nereon object notation (NON). NON is a structured configuration
language influenced by JSON, UCL and HCL using a syntax influenced by
traditional shell interfaces.</p>
<p id="_afb9d292-4b8f-4c2a-91a9-4ed59bd46d97">NON templates can be defined to capture and reuse values and NON
interpolation functions provide a mechanism for manipulating values
when configuration is parsed.</p>
<clause id="_document_structure" obligation="normative"><title>Document Structure</title><p id="_33add344-96b3-47f3-9f22-19c577321f33">NON defines three types of value; table, list and string. A table is a
list of named values where names are strings. A list is an ordered
list of values. A string is a textual representation of data.</p>
<p id="_551e0fa1-eb38-42f7-8844-1936f25059e6">NON data MUST be utf8 encoded.</p>
<p id="_e88d211e-3a8c-4752-a747-1b266c71b10a">A NON document comprises a single NON table value.</p>
<clause id="_special_characters" obligation="normative"><title>Special Characters</title><p id="_2f32cfd7-a093-4896-8e32-ee941fd04ac1">There are a number of characters that have special meaning
within a NON document. All other characters are considered part of a
string value. The special characters are:</p>
<table id="_f2b836a4-7b07-4dd1-b08d-59d69bd26a89">
  <thead>
    <tr>
      <th align="left">Character</th>
      <th align="left">ASCII</th>
      <th align="left">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">SPC</td>
      <td align="left">32</td>
      <td align="left">Separates keys and values in a table and surrounds infix operators</td>
    </tr>
    <tr>
      <td align="left">TAB</td>
      <td align="left">9</td>
      <td align="left">Separates keys and values in a table and surrounds infix operators</td>
    </tr>
    <tr>
      <td align="left">
        <tt>(</tt>
      </td>
      <td align="left">40</td>
      <td align="left">Marks the start of the parameter list for interpolation functions</td>
    </tr>
    <tr>
      <td align="left">
        <tt>)</tt>
      </td>
      <td align="left">41</td>
      <td align="left">Marks the end of the parameter list for interpolation functions</td>
    </tr>
    <tr>
      <td align="left">
        <tt>{</tt>
      </td>
      <td align="left">123</td>
      <td align="left">Marks the start of a table value</td>
    </tr>
    <tr>
      <td align="left">
        <tt>}</tt>
      </td>
      <td align="left">125</td>
      <td align="left">Marks the end of a table value</td>
    </tr>
    <tr>
      <td align="left">
        <tt>[</tt>
      </td>
      <td align="left">91</td>
      <td align="left">Marks the start of a list value</td>
    </tr>
    <tr>
      <td align="left">
        <tt>]</tt>
      </td>
      <td align="left">93</td>
      <td align="left">Marks the end of a list value</td>
    </tr>
    <tr>
      <td align="left">
        <tt>"</tt>
      </td>
      <td align="left">34</td>
      <td align="left">Marks the start and end of a quoted string</td>
    </tr>
    <tr>
      <td align="left">
        <tt>#</tt>
      </td>
      <td align="left">35</td>
      <td align="left">Marks the beginning of a comment</td>
    </tr>
    <tr>
      <td align="left">
        <tt>$</tt>
      </td>
      <td align="left">36</td>
      <td align="left">Marks a template application without parameters</td>
    </tr>
    <tr>
      <td align="left">CR</td>
      <td align="left">10</td>
      <td align="left">Separates entries within tables, lists and parameter lists</td>
    </tr>
    <tr>
      <td align="left">
        <tt>,</tt>
      </td>
      <td align="left">44</td>
      <td align="left">Separates entries within tables, lists and parameter lists</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\</tt>
      </td>
      <td align="left">92</td>
      <td align="left">Indicates an escape sequence</td>
    </tr>
  </tbody>
</table></clause>
<clause id="_string" obligation="normative"><title>String</title><p id="_1be4203f-9942-4c5d-a5c9-f40b0e830f7f">Strings can be either bare or quoted. A bare string comprises one or
more characters not listed in the 'Special Characters' section above.</p>
<p id="_9c4e15f4-b926-4a52-8485-4c17aa67a552">The following Special characters can be included within a bare string
if they are escaped with the backslash (<tt>\</tt> ASCII 92) character.</p>
<table id="_4c8713bc-fb51-4eed-80e4-b8d3197ea25b">
  <thead>
    <tr>
      <th align="left">Sequence</th>
      <th align="left">Meaning</th>
      <th align="left">ASCII</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">
        <tt>\(</tt>
      </td>
      <td align="left">Open brace</td>
      <td align="left">40</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\)</tt>
      </td>
      <td align="left">Close brace</td>
      <td align="left">41</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\{</tt>
      </td>
      <td align="left">Open curly brace</td>
      <td align="left">123</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\}</tt>
      </td>
      <td align="left">Close curly brace</td>
      <td align="left">125</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\[</tt>
      </td>
      <td align="left">Open square brace</td>
      <td align="left">91</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\]</tt>
      </td>
      <td align="left">Close square brace</td>
      <td align="left">93</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\#</tt>
      </td>
      <td align="left">Hash sign</td>
      <td align="left">35</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\$</tt>
      </td>
      <td align="left">Dollar sign</td>
      <td align="left">35</td>
    </tr>
    <tr>
      <td align="left">
        <tt>\,</tt>
      </td>
      <td align="left">Comma</td>
      <td align="left">44</td>
    </tr>
    <tr>
      <td align="left">`\ `</td>
      <td align="left">Space</td>
      <td align="left">32</td>
    </tr>
  </tbody>
</table>
<p id="_460e45e6-d7bb-48b6-9da2-426e80b35b92">Quoted strings are enclosed in double quotation marks (<tt>"</tt> ASCII
34) and may contain any of the <tt>Special Characters</tt> above with the
exception of <tt>\</tt> (ASCII 92) and <tt>"</tt> (ASCII 34). <tt>\</tt> and <tt>"</tt> must
always be escaped.</p>
<p id="_f5f9c731-a6bd-4cbb-bac3-97a8c5bb468c">The following escape sequences are recognised in both bare and quoted
strings:</p>
<table id="_2b40108a-d23a-470e-be18-35d43eb4dbd8">
  <thead>
    <tr>
      <th align="left">Escape Sequence</th>
      <th align="left">ASCII</th>
      <th align="left">Character represented</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">\n</td>
      <td align="left">10</td>
      <td align="left">Newline (Line Feed)</td>
    </tr>
    <tr>
      <td align="left">\r</td>
      <td align="left">13</td>
      <td align="left">Carriage Return</td>
    </tr>
    <tr>
      <td align="left">\t</td>
      <td align="left">9</td>
      <td align="left">Horizontal Tab</td>
    </tr>
    <tr>
      <td align="left">\\</td>
      <td align="left">92</td>
      <td align="left">Backslash</td>
    </tr>
    <tr>
      <td align="left">\'</td>
      <td align="left">39</td>
      <td align="left">Single quotation mark</td>
    </tr>
    <tr>
      <td align="left">\"</td>
      <td align="left">34</td>
      <td align="left">Double quotation mark</td>
    </tr>
    <tr>
      <td align="left">\0nn</td>
      <td align="left">any</td>
      <td align="left">The byte whose numerical value is given by 0nn interpreted as an octal number</td>
    </tr>
    <tr>
      <td align="left">\xhh</td>
      <td align="left">any</td>
      <td align="left">The byte whose numerical value is given by hh interpreted as a hexadecimal number</td>
    </tr>
    <tr>
      <td align="left">\Uhhhhhhhh</td>
      <td align="left">none</td>
      <td align="left">Unicode code point where h is a hexadecimal digit</td>
    </tr>
    <tr>
      <td align="left">\uhhhh</td>
      <td align="left">none</td>
      <td align="left">Unicode code point below 10000 hexadecimal</td>
    </tr>
  </tbody>
</table>
<p id="_3fc9e3b5-d8ff-45a4-898b-ee551df95152">Multi-line strings are permitted as long as they are quoted.</p>
<p id="_9423a40a-8f7d-4a58-81b9-2479a28a341b">Examples:</p>
<sourcecode id="_8b041bc0-3f34-48e1-b85c-3bcda651e22b">"The Rachel Papers"
Success
Money
"Time's Arrow"</sourcecode></clause>
<clause id="_list" obligation="normative"><title>List</title><p id="_fc94a10e-b265-4eba-904a-c5d0b10a2a9d">A list is an ordered set of values. Lists are enclosed in square
braces (<tt>[]</tt> ASCII 91/93). Within the braces are zero or more values
separated by one or more comma (<tt>,</tt> ASCII 44) or newline (ASCII 10)
characters. Values are numbered, starting at zero. Numbers are
assigned to each value in the order in which they are defined.</p>
<p id="_4dff7a23-06a0-4a23-9e17-b8e991d7f448">Example:</p>
<sourcecode id="_6553e6ca-a0c0-4f93-8166-10fe722cdb34">[
    Aglovale, Breunor, Claudin
    Calogrenant, Dinadan, "Elyan the White"

    Erec, Galeschin, Gornemant,
    "Hector de Maris", Lucan,
    "Meliant de Lis", Morholt
    Safir, Segwarides, Tor
]</sourcecode></clause>
<clause id="_table" obligation="normative"><title>Table</title><p id="_86ffe938-fdbd-4fdb-8cbc-6db85b7b2ec4">A table is an unordered set of key and value pairs. A table is
enclosed in curly braces (<tt>{}</tt> ASCII 123/125). Within the braces are
zero or more key/value pairs. Pairs are separated by one or more comma
(<tt>,</tt> ASCII 44) or newline (ASCII 10) characters. Keys are
strings. Table entries are defined by specifying a key and a value
separated by any combination of space (` ` ASCII 32) and tab (\t`
ASCII 9) characters. Keys are unique with a table. If a key appears
more than once in a table definition the last value is the only one
retained by the table.</p>
<p id="_b42ab41a-cde9-4f1b-b8b1-8c3aa172bb97">Example:</p>
<sourcecode id="_c255c7bf-97dd-4ced-86d3-1cfe89a991e5">contact {
    name "John Doe"
    email {
        work "john.doe@work.domain"
        home "john@home.domain"
    }
}</sourcecode>
<p id="_2506afaa-ebf4-4515-b9a1-f787afe201e8">An additional syntax is defined for table entries where multiple keys
precede the value. This syntax is only permitted within a table value
and has the effect of recursively defining implicit nested table
values with the initial keys. The final key and the value are used to
create an entry within the most deeply nested table value. Using this
syntax the above example can be written as:</p>
<sourcecode id="_ce2a7eba-66ba-4f69-aafd-78e2a9e10a64">contact {
    name "John Doe"
    email work "john.doe@work.domain"
    email home "john@home.domain"
}</sourcecode>
<p id="_41a6ff36-be9b-4145-81ce-8f8d242fcb61">or</p>
<sourcecode id="_e1752d1d-35e8-4fa2-be3b-640df88a7b7a">contact name "John Doe"
contact email work "john.doe@work.domain"
contact email home "john@home.domain"</sourcecode></clause>
<clause id="_comment" obligation="normative">
  <title>Comment</title>
  <p id="_6d3be8ee-00de-44b9-abff-c0d61557cf68">The hash (<tt>#</tt> ASCII 35) character indicates a comment which runs up to the next
CR (<tt>\n</tt> ASCII 10).</p>
</clause></clause>
<clause id="_interpolation" obligation="normative"><title>Interpolation</title><p id="_630c6b9e-ae3e-414a-8e53-92dcd6935b1f">Values are interpolated when a NON document is parsed.</p>
<clause id="_arithmetic_interpolation" obligation="normative"><title>Arithmetic interpolation</title><p id="_62452ee2-3e9a-424e-906e-3109a051d1f4">Simple arithmetic is supported with the binary operators <tt>-</tt>, <tt>+</tt>,
<tt>*</tt>, <tt>/</tt>, <tt>\</tt>, <tt>%</tt> and <tt>^</tt>. Binary operators must appear between to
values and must be surrounded by one or more space (ASCII 32) or tab
(ASCII 9) characters. The operators correspond respectively with the
functions <tt>subtract()</tt>, <tt>add()</tt>, <tt>multiply()</tt>, <tt>divide()</tt>, <tt>intdiv()</tt>,
<tt>modulus()</tt> and <tt>power()</tt> described below.</p>
<sourcecode id="_ad156068-ebd2-4096-8993-13edc45fd615">port 8000 + 80 # port "8080"
port 8000+80 # port "8000+80", probably not intentional!</sourcecode></clause>
<clause id="_template_interpolation" obligation="normative"><title>Template interpolation</title><p id="_f5cf38f5-c379-4598-b49d-cbd35cf3c675">Template values can be defined with the <tt>let()</tt> construct and reused
later on in the document. Template values may or may not accept
arguments which will affect their expansion.</p>
<p id="_67f79b62-c265-4e8a-8b7f-be06b35d579a">Within a template, arguments can be extracted using the <tt>arg(n)</tt>
construct where <tt>n</tt> is the zero-based argument index.</p>
<p id="_36dba622-524b-4b56-9c2f-9e98b91e5590">Templates are applied by using the <tt>apply()</tt> construct. Templates
without arguments can be applied using a special <tt>$name</tt> construct
which is syntactic sugar for <tt>apply(name)</tt>.</p>
<sourcecode id="_54cdd354-d1c2-45cb-bc44-511fdf85280b">let(base_port, 8000)
let(port, $base_port + arg(0))

port1 apply(port(80)) # port 8080
port2 apply(port(81)) # port 8081
port3 $base_port + 82 #port 8082</sourcecode></clause>
<clause id="_functions" obligation="normative"><title>Functions</title><p id="_f99d6a57-2588-48c0-a589-8c9380e01bd8">NON uses the <tt>name(args)</tt> construct for functions where name is a bare
string and args is a comma separated list of zero or more arguments
each of which is a valid NON value. The correct number of arguments
will vary depending on the function.</p>
<p id="_1c7077ab-1d5b-4eae-9431-cd20923414ff">A NON parser supports at least the following basic functions:</p>
<table id="_6497c80e-be56-4fad-af12-ade7d55bc5d0">
  <thead>
    <tr>
      <th align="left">Function</th>
      <th align="left">Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">
        <tt>add(a, b)</tt>
      </td>
      <td align="left">a + b</td>
    </tr>
    <tr>
      <td align="left">
        <tt>subtract(a, b)</tt>
      </td>
      <td align="left">a - b</td>
    </tr>
    <tr>
      <td align="left">
        <tt>multiply(a, b)</tt>
      </td>
      <td align="left">a × b</td>
    </tr>
    <tr>
      <td align="left">
        <tt>divide(a, b)</tt>
      </td>
      <td align="left">a ÷ b</td>
    </tr>
    <tr>
      <td align="left">
        <tt>intdiv(a, b)</tt>
      </td>
      <td align="left">a ÷ b, a and b are integers, result rounded towards zero</td>
    </tr>
    <tr>
      <td align="left">
        <tt>modulus(a, b)</tt>
      </td>
      <td align="left">remainder of a ÷ b, a and b are integers</td>
    </tr>
    <tr>
      <td align="left">
        <tt>power(a, b)</tt>
      </td>
      <td align="left">a<sup>b</sup></td>
    </tr>
  </tbody>
</table>
<p id="_5eae92b5-60fd-43fc-a459-0650bf3cf2d5">A parser may also permit user defined functions to be registered prior
to parsing.</p></clause></clause></clause>
</sections><bibliography><references id="_normative_references" obligation="informative">
  <title>Normative References</title>
  
</references><references id="_bibliography" obligation="informative">
  <title>Bibliography</title>
  <bibitem id="RSASHARE">
  <formattedref format="application/x-isodoc+xml">Michael Malkin, Thomas D. Wu, Dan Boneh. <em>Experimenting with Shared Generation of RSA keys</em>. NDSS 1999.</formattedref>
  <docidentifier>Shared generation of RSA keys</docidentifier>
</bibitem>
</references></bibliography>
</rsd-standard>
